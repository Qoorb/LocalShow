{% extends 'base.html' %}

{% block content %}
<h2>–§–∏–ª—å—Ç—Ä –í–∏–¥–µ–æ</h2>
<form method="GET" action="{{ url_for('filter_videos') }}">
    <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
    <select name="category" id="category">
        <option value="" {% if not category %}selected{% endif %}>–í—Å–µ</option>
        <option value="music" {% if category == 'music' %}selected{% endif %}>–ú—É–∑—ã–∫–∞</option>
        <option value="–°–ø–æ—Ä—Ç" {% if category == 'Sport' %}selected{% endif %}>–°–ø–æ—Ä—Ç</option>
        <option value="news" {% if category == 'news' %}selected{% endif %}>–ù–æ–≤–æ—Å—Ç–∏</option>
    </select>
    <button type="submit">–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å</button>
</form>

<div class="video-grid">
    {% for video in videos.items %}
    <div class="video-item">
        <div class="video-thumbnail">
            <video muted>
                <source src="{{ url_for('static', filename='video/' + video.file_path) }}" type="video/mp4">
                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
            </video>
            <div class="video-overlay">
                <a href="{{ url_for('video_view', video_id=video.id) }}" class="watch-button">–°–º–æ—Ç—Ä–µ—Ç—å</a>
            </div>
        </div>
        <div class="video-info">
            <h3>{{ video.title }}</h3>
            <p>{{ video.description }}</p>
            <div class="video-actions">
                <span>üëç {{ video.likes or 0 }}</span>
                <span>üëé {{ video.dislikes or 0 }}</span>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<div class="pagination">
    {% if videos.has_prev %}
        <a href="{{ url_for('filter_videos', page=videos.prev_num, category=category) }}" class="pagination-btn">–ü—Ä–µ–¥—ã–¥—É—â–∏–µ</a>
    {% endif %}
    {% if videos.has_next %}
        <a href="{{ url_for('filter_videos', page=videos.next_num, category=category) }}" class="pagination-btn">–°–ª–µ–¥—É—é—â–∏–µ</a>
    {% endif %}
</div>
{% endblock %}
